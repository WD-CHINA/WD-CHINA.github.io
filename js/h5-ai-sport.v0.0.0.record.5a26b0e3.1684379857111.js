import{d as E,N as R,m as g,o as T,c as a,e as n,v as e,j as u,A as o,B as p,x as P,C as b,a2 as N,y as d,P as k,E as U,G as A,a7 as w,bA as F,a5 as G,_ as j}from"./h5-ai-sport.v0.0.0.index.a6c8dc0f.1684379857111.js";import{P as L}from"./h5-ai-sport.v0.0.0.index.fe8b4d0e.1684379857111.js";import{D as M,a as O}from"./h5-ai-sport.v0.0.0.index.0b9485da.1684379857111.js";import"./h5-ai-sport.v0.0.0.index.530298b9.1684379857111.js";import{f as $}from"./h5-ai-sport.v0.0.0.unit.7fbf2605.1684379857111.js";import{a as z}from"./h5-ai-sport.v0.0.0.task.187c5839.1684379857111.js";import{I as q}from"./h5-ai-sport.v0.0.0.index.92382d81.1684379857111.js";import"./h5-ai-sport.v0.0.0.use-id.97250c6b.1684379857111.js";const l=v=>(U("data-v-df87b8d1"),v=v(),A(),v),H={class:"taskUserDetail"},J={class:"taskUserInfo"},K={class:"taskInfo"},Q={class:"taskName"},W={class:"nickName"},X={class:"ellipsis"},Y={class:"dropBox"},Z=l(()=>e("div",{class:"tit"},"运动日期",-1)),ee={class:"sportProgressList"},te={class:"tit"},se={class:"sportName"},oe={key:0,class:"num"},ae={key:1,class:"num"},ne={class:"proBox"},re={class:"progress"},ce={key:0,class:"percent"},de={key:1,class:"finish"},ie=l(()=>e("div",{class:"text"},"已完成",-1)),le={class:"sportRecord",style:{"border-bottom":"1px solid #ededed"}},_e=l(()=>e("div",{class:"recordTit"},"评语",-1)),me={key:0,class:"writetext"},ue=l(()=>e("div",{class:"chat-right_triangle"},null,-1)),pe={key:1,class:"writetext noData"},ve={key:2,class:"writetexttime"},he=l(()=>e("span",{style:{"margin-left":"0.53rem"}},null,-1)),fe={class:"sportRecord"},ge=l(()=>e("div",{class:"recordTit"},"运动记录",-1)),ke={key:0},ye={class:"itemColmn"},Ie={class:"itemColmn center"},xe={class:"itemColmn center bold"},De={class:"itemColmn center"},Ce={class:"itemColmn center"},be={key:1,class:"noDataTips"},Ne=E({__name:"record",setup(v){const _=R(),c=g({}),i=g(_.params.number),y=g([]);T(()=>{I()});const I=()=>{let h={taskId:_.params.taskId,testerId:_.params.testerId,number:i.value};z(h).then(r=>{r.result.taskGames.forEach(s=>{s.percent=parseFloat((s.finishCount/s.goal*100).toFixed(1))});let m=[];r.result.items.forEach(s=>{r.result.type=="day"?m.push({text:s.startDay,value:s.number+""}):m.push({text:`第${s.number}周(${s.startDay}-${s.endDay})`,value:s.number+""})}),r.result.gameRecords.forEach(s=>{s.date=s.createdDate.split(" ")[0].replace(/-/g,"."),s.times=s.createdDate.split(" ")[1].slice(0,5)}),c.value=r.result,i.value=i.value?i.value:`${r.result.currentNumber}`,y.value=m})};return(h,r)=>{var x,D,C;const m=q,s=M,S=O,V=L,B=G;return a(),n("div",H,[e("div",J,[u(m,{class:"avatar",fit:"cover",round:"",src:c.value.avatar||"https://yunketang-file.dream-sports.cn/avatar/defaultAvatar.jpg"},null,8,["src"]),e("div",K,[e("div",Q,o(c.value.name),1),e("div",W,[e("div",X,o(c.value.nickName),1),p(" 的运动记录 ")])])]),e("div",Y,[Z,u(S,{"active-color":"#0074E8"},{default:P(()=>[u(s,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=t=>i.value=t),options:y.value,onChange:r[1]||(r[1]=t=>I())},null,8,["modelValue","options"])]),_:1})]),e("div",ee,[(a(!0),n(b,null,N(c.value.taskGames,(t,f)=>(a(),n("div",{class:"sportProgressItem",key:f},[e("div",te,[e("div",se,o(t.name),1),t.type==1?(a(),n("div",oe,o(d(w)(t.goal).m?d(w)(t.goal).m:0)+"分钟",1)):k("",!0),t.type!=1?(a(),n("div",ae,o(t.goal)+o(d($)(t.code)),1)):k("",!0)]),e("div",ne,[e("div",re,[u(V,{percentage:t.percent,"pivot-text":"","stroke-width":".26rem",color:"#FDD429","border-radius":"0.24rem"},null,8,["percentage"])]),t.finishCount<t.goal?(a(),n("div",ce,o(t.percent)+"%",1)):(a(),n("div",de,[u(B,{color:"#48C97A",size:".44rem",name:"checked"}),ie]))])]))),128))]),e("div",le,[_e,(x=c.value.comment)!=null&&x.content?(a(),n("div",me,[p(o(c.value.comment.content)+" ",1),ue])):(a(),n("div",pe,[p("暂无评语 "),e("span",{onClick:r[2]||(r[2]=t=>h.$router.push(`/taskdetails/remarks/${d(_).params.testerId}/${d(_).params.taskItemId}`))},"写评语")])),(D=c.value.comment)!=null&&D.content?(a(),n("div",ve,[p(" 点评人："+o(c.value.comment.userName)+" ",1),he,p(" 点评时间："+o(c.value.comment.createdDate),1)])):k("",!0)]),e("div",fe,[ge,(C=c.value.gameRecords)!=null&&C.length?(a(),n("div",ke,[(a(!0),n(b,null,N(c.value.gameRecords,(t,f)=>(a(),n("div",{class:"recordItem",key:f},[e("div",ye,o(t.date),1),e("div",Ie,o(t.times),1),e("div",xe,o(t.gameName),1),e("div",De,o(t.score)+o(d($)(t.gameCode)),1),e("div",Ce,o(d(F)(t.time)),1)]))),128))])):(a(),n("div",be,"没有运动记录"))])])}}});const Pe=j(Ne,[["__scopeId","data-v-df87b8d1"]]);export{Pe as default};
