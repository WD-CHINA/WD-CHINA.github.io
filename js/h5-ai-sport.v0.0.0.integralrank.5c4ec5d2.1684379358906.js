import{d as A,u as E,m as u,c as s,e as l,v as e,j as v,y as O,C as y,a2 as x,P as c,x as C,A as n,V as w,B as P,bs as U,a5 as D,bt as F,E as G,G as R,_ as q}from"./h5-ai-sport.v0.0.0.index.eb36d521.1684379358906.js";import{L as H}from"./h5-ai-sport.v0.0.0.index.e553e8f7.1684379358906.js";import{I as J}from"./h5-ai-sport.v0.0.0.index.1a7b6993.1684379358906.js";import"./h5-ai-sport.v0.0.0.use-tab-status.cd1101d5.1684379358906.js";const K=p=>(G("data-v-90dcbff9"),p=p(),R(),p),M={class:"intergralRank"},Q={class:"title"},W={class:"titleCenter"},X=K(()=>e("div",{class:"text"},"累计获得积分排名TOP100",-1)),Y={key:0,class:"tab"},Z=["onClick"],ee={key:0,class:"rank_item_div"},te={key:0,class:"rank_item my"},ae={class:"rank_item_left"},se={class:"rankNum",style:{color:"#5fafff"}},le={class:"rank_item_right"},ne={class:"ellipsis",style:{"max-width":"280px"}},oe={key:0,class:"classInfo ellipsis",style:{"max-width":"280px"}},ce={key:0},ie={key:1},re={key:2},ue={class:"rank_item_left"},de={class:"rank_item_right"},ve={class:"ellipsis",style:{"max-width":"280px"}},_e={key:0,class:"classInfo ellipsis",style:{"max-width":"280px"}},pe={key:0},me={key:1},fe={key:2},he={class:"wrapperNotice"},ke={class:"noticeBody"},ge={class:"noticeTitle"},ye={class:"noticeContent"},xe={class:"noticeText"},Ne=A({__name:"integralrank",setup(p){const T=E(),m=u(!1),a=u("school"),_=u([]),o=u({}),f=u(!1),h=u(!1),S=20,k=u(1),L=[{name:"学校",value:"school"},{name:"年级",value:"grade"},{name:"班级",value:"team"}],B=[{text:"1. 完成运动可获得积分"},{text:"运动训练积分：完成个数*5*难度系数"},{text:"休闲锻炼积分：获得分数*1"},{text:"2. 积分可用于兑换运动皮肤"},{text:"3. 每个用户仅限使用1个微信账号参与积分活动"},{text:"4. 积分排位榜计算的是累计积分，消耗积分不影响排位"},{text:"5. 积分终身有效"}],N=()=>{U({filterScope:a.value,pageSize:S,pageNo:k.value}).then(d=>{o.value=d.result.extra,_.value.length>=d.result.total?h.value=!0:(_.value.push(...d.result.rows),k.value+=1,f.value=!1)})},V=d=>{f.value=!1,h.value=!1,a.value=d.value,_.value=[],k.value=1,N()};return(d,i)=>{var I,b;const g=J,$=H,j=D,z=F;return s(),l("div",M,[e("div",Q,[e("div",W,[e("div",null,[v(g,{class:"intergralText",src:"https://yunketang-file.dream-sports.cn/static/intergralText.png"}),X])]),e("div",{class:"rulesText",onClick:i[0]||(i[0]=t=>m.value=!0)},"查看积分规则"),(b=(I=O(T).userInfo)==null?void 0:I.team)!=null&&b.id?(s(),l("div",Y,[(s(),l(y,null,x(L,(t,r)=>e("div",{class:w("tabItem "+(a.value==t.value?"act":"")),onClick:Ie=>V(t),key:r},n(t.name),11,Z)),64))])):c("",!0)]),v($,{loading:f.value,"onUpdate:loading":i[1]||(i[1]=t=>f.value=t),finished:h.value,"loading-text":"加载中...","finished-text":"没有更多了",onLoad:N},{default:C(()=>[_.value.length?(s(),l("div",ee,[o.value.rank?(s(),l("div",te,[e("div",ae,[e("text",se,n(o.value.rank),1),v(g,{round:"",class:"rank_avatar",fit:"cover",src:o.value.avatar||"https://yunketang-file.dream-sports.cn/avatar/defaultAvatar.jpg"},null,8,["src"])]),e("div",le,[e("div",null,[e("div",ne,n(o.value.nickName),1),o.value.cityName&&a.value!="team"?(s(),l("div",oe,[a.value=="all"?(s(),l("span",ce,n(o.value.cityName),1)):c("",!0),a.value=="all"||a.value=="county"?(s(),l("span",ie,n(o.value.schoolName),1)):c("",!0),a.value=="school"||a.value=="grade"||a.value=="class"?(s(),l("span",re,n(o.value.grade+"年级"+o.value.teamNumber+"班"),1)):c("",!0)])):c("",!0)]),e("span",null,n(o.value.integral),1)])])):c("",!0),(s(!0),l(y,null,x(_.value,(t,r)=>(s(),l("div",{class:"rank_item",key:r},[e("div",ue,[e("span",{class:w("rankNum num"+(r+1))},n(r+1),3),v(g,{round:"",class:"rank_avatar",fit:"cover",src:t.avatar||"https://yunketang-file.dream-sports.cn/avatar/defaultAvatar.jpg"},null,8,["src"])]),e("div",de,[e("div",null,[e("div",ve,n(t.nickName),1),t.cityName&&a.value!="team"?(s(),l("div",_e,[a.value=="all"?(s(),l("span",pe,n(t.cityName),1)):c("",!0),a.value=="all"||a.value=="county"?(s(),l("span",me,n(t.schoolName),1)):c("",!0),a.value=="school"||a.value=="grade"||a.value=="class"?(s(),l("span",fe,n(t.grade+"年级"+t.teamNumber+"班"),1)):c("",!0)])):c("",!0)]),e("span",null,n(t.integral),1)])]))),128))])):c("",!0)]),_:1},8,["loading","finished","loading-text"]),v(z,{show:m.value,onClick:i[3]||(i[3]=t=>m.value=!1)},{default:C(()=>[e("div",he,[e("div",ke,[e("div",ge,[P(" 积分规则 "),v(j,{onClick:i[2]||(i[2]=t=>m.value=!1),"custom-class":"closeIcon",size:".66rem",color:"#fff",name:"clear"})]),e("div",ye,[(s(),l(y,null,x(B,(t,r)=>e("div",{class:"noticeItem",key:r},[e("div",xe,n(t.text),1)])),64))])])])]),_:1},8,["show"])])}}});const Se=q(Ne,[["__scopeId","data-v-90dcbff9"]]);export{Se as default};
