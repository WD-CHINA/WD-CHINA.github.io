import{d as $,c as n,e as c,_ as O,m as l,u as oe,N as ne,o as re,ax as ie,v as r,z as ce,j as v,B as f,A as o,P as u,L as Z,V as m,y as q,x as B,C as G,a2 as ue,a5 as ve,a9 as de,E as me,G as pe}from"./h5-ai-sport.v0.0.0.index.95bda2e2.1684318478178.js";import"./h5-ai-sport.v0.0.0.index.c132801b.1684318478178.js";import"./h5-ai-sport.v0.0.0.index.383d5f05.1684318478178.js";import{L as _e}from"./h5-ai-sport.v0.0.0.index.78283ae5.1684318478178.js";import{E as he}from"./h5-ai-sport.v0.0.0.index.f8ed52ae.1684318478178.js";import{F as fe}from"./h5-ai-sport.v0.0.0.index.9fee9067.1684318478178.js";import{g as ge,l as ye,m as ke}from"./h5-ai-sport.v0.0.0.report.5341fd29.1684318478178.js";import{N as Ae}from"./h5-ai-sport.v0.0.0.NoData.8cfd2772.1684318478178.js";import{I as Te}from"./h5-ai-sport.v0.0.0.index.9c59126a.1684318478178.js";import{P as xe}from"./h5-ai-sport.v0.0.0.index.cfda08b3.1684318478178.js";import"./h5-ai-sport.v0.0.0.use-id.63b167f5.1684318478178.js";import"./h5-ai-sport.v0.0.0.use-tab-status.b97a6de6.1684318478178.js";import"./h5-ai-sport.v0.0.0.index.1828ee52.1684318478178.js";const Ie={id:"my-chart"},we=$({__name:"ChartFoldLine",props:{data:null,itemId:null},setup(g,{expose:T}){const p=g;return T({init:()=>{const i=new fe.Chart({el:document.getElementById("my-chart"),pixelRatio:window.devicePixelRatio});parseInt(p.itemId)===5?i.source(p.data,{day:{min:0}}):i.source(p.data,{score:{min:0},day:{min:0}}),i.axis("day",{label:{fontSize:10}}),i.tooltip({showCrosshairs:!0,showItemMarker:!1,background:{radius:2,fill:"#FDD429",padding:[3,5]},nameStyle:{fill:"#333333"},valueStyle:{fill:"#333"},onShow:function(y){const k=y.items;k[0].name=""}}),i.line().position("day*score"),i.point().position("day*score").style({stroke:"#fff",lineWidth:1}),i.render()}}),(i,d)=>(n(),c("canvas",Ie))}});const Ce=O(we,[["__scopeId","data-v-9e6ca2c8"]]),H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAhVJREFUOE+NlD1rFFEUhp8zk8mC2YiwoLumEAu1ECNqOkGwE4KFCYKd+AMsNJN+f8Caxi6VVgqSTos0MYXiLxDTiF9kM1lESZZANrtzj5yZnf3KZuOpBu65z7zn471CFvfV543ElD+Ps1e4h8pD0BmghbppYskzHreoNX/z4vw+qIBodl2SjwzytHYNzy0DBnCAB/IXjS8iXhFHHj8+YF9rPJ/a7AdlkHBrFmQFyLUh9je/A0JO4/QEHop4Y6jboV79yvJM07SkisLtadAPwGRSCowBBjL5qSIDwQSow1NF/QDVOpPFDcriJKk1rK2D3uqBGP5okJ1mMBdXWZr6JYTRA+BVtyed9o8GZWmqjpMHXwz0FpgdCWq4S+TkTFKaXczCqeJ7Pi6uCotRhGJJbQVDFAXNC7TcKVQmIOiCLDVuCrg9U2QHadP7IwPvoO4qQXOXVi6goZ3d6aTnDRBGNj6b0lFhF3dB+pV0hQtCw0DfgXNDShvBHiyfH0K4tQIyN6TZvaDD5aSncbua18LC9hyittFtS/yPkO7cEhs57qZNXojWEG4PLORxxLYDdJVK6U4KehJdwefjgEVGgWxAAfAHdTd5dnZDOs4/bFoD2Y+y1bA+ZaviJRB0nkpp3Rj9z8ji5nXUt2fkxjFTfAc8plL8lgnpLmLvw1YvzOPxCOUyUEih+hO8Tzj3kqXS+8TsZcScb9L/AUGY81h6mKMeAAAAAElFTkSuQmCC",De=g=>(me("data-v-14c7e32c"),g=g(),pe(),g),Se={style:{"min-height":"100vh",padding:"0.1rem 0",background:"#e4e4e4"}},Ne={class:"flex"},Fe={style:{display:"flex","align-items":"center"}},Le={key:0,class:"f2-container"},ze={key:0,class:"unit"},Be={key:1,class:"f2-container1"},be={class:"page1"},Ee={class:"flex top1"},Ye={style:{display:"flex","align-items":"center"}},Ve={key:0,class:"flexno"},Pe={key:1,class:"flex flexdata"},Ue={class:"extratime"},je={class:"itemv3",style:{display:"flex"}},Xe=De(()=>r("div",{class:"besttit"}," 最佳 ",-1)),Je={class:"itemv"},Re={class:"itemv1"},Ke={class:"itemv2"},Me=["href"],Qe={class:"extratime"},Ze={class:"itemv3"},qe={class:"itemv"},Ge={class:"itemv1"},He={class:"itemv2"},$e=["href"],Oe=$({__name:"list",setup(g){const T=l(null),p=oe(),w={text:"dateName",value:"dateName"},i=ne(),d=l(!1),y=l(!1),k=l([]),C=l(i.params.itemId),b=l(i.params.startDate),E=l(i.params.endDate),Y=l(i.params.schoolYear),V=l(i.params.selectTop),P=l(i.params.startDate),U=l(i.params.endDate),j=l(i.params.schoolYear),X=l(i.params.selectTop),_=l([]),t=l({}),J=l(0),D=l(1),W=l(10),x=l(!1),S=l(!1),N=l(""),A=l([]),F=l();re(()=>{document.title=i.params.item,ee()});const ee=()=>{ge({testerId:p.userInfo.schoolInnerId,timeType:"1"}).then(a=>{k.value=a.result,L(),R()}).catch(()=>{})},L=()=>{ye({testerId:p.userInfo.schoolInnerId,startTime:P.value,endTime:U.value,schoolYear:j.value,itemId:C.value,pageNo:D.value,pageSize:W.value}).then(a=>{if(a.result.total===0){_.value=[],t.value={},J.value=a.result.total;return}a.result.rows.length>0&&a.result.rows.filter(s=>{s.startTT=s.startTime.split(" ")[0].replace(/-/g,"/")}),a.result.extra.startTime&&(a.result.extra.startTT=a.result.extra.startTime.split(" ")[0].replace(/-/g,"/")),_.value.length>=a.result.total?S.value=!0:(J.value=a.result.total,_.value.push(...a.result.rows),D.value+=1,x.value=!1),t.value=a.result.extra})},R=()=>{ke({itemId:C.value,startTime:b.value,endTime:E.value,schoolYear:Y.value,testerId:p.userInfo.schoolInnerId}).then(a=>{a.result.dateTimeList.filter(s=>{if(s.time=s.score,s.dateName){var h=new Date(s.dateName),z=h.getMonth()+1+"-",I=h.getDate();s.day=z+I}}),A.value=a.result.dateTimeList,N.value=a.result.dateMessage,F.value=a.result.unit,ie(()=>{var s;(s=T.value)==null||s.init()})})},te=({selectedOptions:a})=>{b.value=a[0].startDate,E.value=a[0].endDate,Y.value=a[0].schoolYear,V.value=a[0].dateName,d.value=!1,R()},ae=({selectedOptions:a})=>{P.value=a[0].startDate,U.value=a[0].endDate,j.value=a[0].schoolYear,X.value=a[0].dateName,y.value=!1,x.value=!1,S.value=!1,D.value=1,t.value={},_.value=[],L()};return(a,s)=>{const h=ve,z=Ce,I=he,K=Te,se=_e,M=xe,Q=de;return n(),c(G,null,[r("div",Se,[r("div",{class:"page",style:ce(A.value.length==0?"height:8rem":"height:6.67rem")},[r("div",Ne,[r("div",Fe,[v(h,{size:".24rem",name:"star"}),f(" 成绩曲线 ")]),r("div",{onClick:s[0]||(s[0]=e=>d.value=!0),class:"all",id:"1"},[f(o(V.value)+" ",1),v(h,{name:"arrow-down",color:"#666",size:".24rem"})])]),A.value.length>0?(n(),c("div",Le,[F.value?(n(),c("div",ze,o(F.value),1)):u("",!0),v(z,{itemId:C.value,ref_key:"chart",ref:T,data:A.value},null,8,["itemId","data"])])):u("",!0),A.value.length==0?(n(),c("div",Be,[v(I,{class:"custom-image",image:"https://yunketang-file.dream-sports.cn/static/cernosearch.png",description:"暂无运动记录"})])):u("",!0)],4),N.value.length>0?(n(),Z(Ae,{key:"model",text:[],text1:N.value},null,8,["text1"])):u("",!0),r("div",be,[r("div",Ee,[r("div",Ye,[v(h,{size:".24rem",name:"star"}),f(" 测试记录 ")]),r("div",{onClick:s[1]||(s[1]=e=>y.value=!0),class:"all",id:"2"},[f(o(X.value)+" ",1),v(h,{name:"arrow-down",color:"#666",size:".24rem"})])]),!t.value.score&&_.value.length==0?(n(),c("div",Ve,[v(I,{class:"custom-image",image:"https://yunketang-file.dream-sports.cn/static/cernosearch.png",description:"暂无测试记录"})])):u("",!0),t.value.score?(n(),c("div",Pe,[r("div",Ue,o(t.value.startTT),1),r("div",je,[f(o(t.value.score)+o(t.value.unit)+" ",1),Xe]),r("div",Je,o(t.value.mark?t.value.mark:"")+o(t.value.mark?"分":""),1),r("div",Re,[t.value.level=="优秀"?(n(),c("div",{key:0,class:m(" "+(t.value.level=="优秀"?"good":"")+" ")},o(t.value.level?t.value.level:""),3)):u("",!0),t.value.level=="良好"?(n(),c("div",{key:1,class:m(" "+(t.value.level=="良好"?"like":"")+" ")},o(t.value.level?t.value.level:""),3)):u("",!0),t.value.level=="及格"?(n(),c("div",{key:2,class:m(" "+(t.value.level=="及格"?"normal":"")+" ")},o(t.value.level?t.value.level:""),3)):u("",!0),t.value.level=="不及格"?(n(),c("div",{key:3,class:m(" "+(t.value.level=="不及格"?"bad":"")+" ")},o(t.value.level?t.value.level:""),3)):u("",!0)]),r("div",Ke,[t.value.reportUrl?(n(),c("a",{key:0,href:t.value.reportUrl,target:"_blank"},[v(K,{src:q(H)},null,8,["src"]),f("测试报告 ")],8,Me)):u("",!0)])])):u("",!0),_.value.length>0?(n(),Z(se,{key:2,loading:x.value,"onUpdate:loading":s[2]||(s[2]=e=>x.value=e),finished:S.value,"finished-text":"",onLoad:L},{default:B(()=>[(n(!0),c(G,null,ue(_.value,(e,le)=>(n(),c("div",{class:"flex flexdata1",key:le},[r("div",Qe,o(e.startTT),1),r("div",Ze,o(e.score)+o(e.unit),1),r("div",qe,o(e.mark?e.mark:"")+o(e.mark?"分":""),1),r("div",Ge,[e.level=="优秀"?(n(),c("div",{key:0,class:m(" "+(e.level=="优秀"?"good":"")+" ")},o(e.level?e.level:""),3)):u("",!0),e.level=="良好"?(n(),c("div",{key:1,class:m(" "+(e.level=="良好"?"like":"")+" ")},o(e.level?e.level:""),3)):u("",!0),e.level=="及格"?(n(),c("div",{key:2,class:m(" "+(e.level=="及格"?"normal":"")+" ")},o(e.level?e.level:""),3)):u("",!0),e.level=="不及格"?(n(),c("div",{key:3,class:m(" "+(e.level=="不及格"?"bad":"")+" ")},o(e.level?e.level:""),3)):u("",!0)]),r("div",He,[e.reportUrl?(n(),c("a",{key:0,href:e.reportUrl,target:"_blank"},[v(K,{src:q(H)},null,8,["src"]),f("测试报告 ")],8,$e)):u("",!0)])]))),128))]),_:1},8,["loading","finished"])):u("",!0)])]),v(Q,{show:d.value,position:"bottom",onClose:s[4]||(s[4]=e=>d.value=!1)},{default:B(()=>[v(M,{columns:k.value,"columns-field-names":w,"show-toolbar":"",onCancel:s[3]||(s[3]=e=>d.value=!1),onConfirm:te},null,8,["columns"])]),_:1},8,["show"]),v(Q,{show:y.value,position:"bottom",onClose:s[6]||(s[6]=e=>y.value=!1)},{default:B(()=>[v(M,{columns:k.value,"columns-field-names":w,"show-toolbar":"",onCancel:s[5]||(s[5]=e=>d.value=!1),onConfirm:ae},null,8,["columns"])]),_:1},8,["show"])],64)}}});const dt=O(Oe,[["__scopeId","data-v-14c7e32c"]]);export{dt as default};
