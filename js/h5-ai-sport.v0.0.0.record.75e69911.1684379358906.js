import{d as T,N as U,u as P,m as h,o as $,c as a,e as n,v as e,j as _,A as o,B as p,x as A,C,a2 as b,P as f,E as F,G,y as m,a7 as N,bA as j,a5 as L,_ as M}from"./h5-ai-sport.v0.0.0.index.eb36d521.1684379358906.js";import{P as O}from"./h5-ai-sport.v0.0.0.index.d0843af6.1684379358906.js";import{D as z,a as q}from"./h5-ai-sport.v0.0.0.index.80427daa.1684379358906.js";import"./h5-ai-sport.v0.0.0.index.6888f3f8.1684379358906.js";import{f as w}from"./h5-ai-sport.v0.0.0.unit.7fbf2605.1684379358906.js";import{a as H}from"./h5-ai-sport.v0.0.0.task.d99a488a.1684379358906.js";import{I as J}from"./h5-ai-sport.v0.0.0.index.1a7b6993.1684379358906.js";import"./h5-ai-sport.v0.0.0.use-id.019c9068.1684379358906.js";const i=u=>(F("data-v-852eab8f"),u=u(),G(),u),K={class:"taskUserDetail"},Q={class:"taskUserInfo"},W={class:"taskInfo"},X={class:"taskName"},Y={class:"nickName"},Z={class:"ellipsis"},ee={class:"dropBox"},te=i(()=>e("div",{class:"tit"},"运动日期",-1)),se={class:"sportProgressList"},oe={class:"tit"},ae={class:"sportName"},ne={key:0,class:"num"},ce={key:1,class:"num"},re={class:"proBox"},de={class:"progress"},ie={key:0,class:"percent"},le={key:1,class:"finish"},_e=i(()=>e("div",{class:"text"},"已完成",-1)),me={class:"sportRecord",style:{"border-bottom":"1px solid #ededed"}},ue=i(()=>e("div",{class:"recordTit"},"评语",-1)),pe={key:0,class:"writetext"},ve=i(()=>e("div",{class:"chat-right_triangle"},null,-1)),he={key:1,class:"writetext noData"},fe={key:2,class:"writetexttime"},ge=i(()=>e("span",{style:{"margin-left":"0.53rem"}},null,-1)),ke={class:"sportRecord"},ye=i(()=>e("div",{class:"recordTit"},"运动记录",-1)),xe={key:0},De={class:"itemColmn"},Ie={class:"itemColmn center"},Ce={class:"itemColmn center bold"},be={class:"itemColmn center"},Ne={class:"itemColmn center"},we={key:1,class:"noDataTips"},Se=T({__name:"record",setup(u){const S=U(),V=P(),c=h({}),d=h(""),g=h([]);$(()=>{k()});const k=()=>{let y={taskId:S.params.id,userId:V.userInfo.id,number:d.value};H(y).then(r=>{r.result.taskGames.forEach(s=>{s.percent=parseFloat((s.finishCount/s.goal*100).toFixed(1))});let l=[];r.result.items.forEach(s=>{r.result.type=="day"?l.push({text:s.startDay,value:s.number+""}):l.push({text:`第${s.number}周(${s.startDay}-${s.endDay})`,value:s.number+""})}),r.result.gameRecords.forEach(s=>{s.date=s.createdDate.split(" ")[0].replace(/-/g,"."),s.times=s.createdDate.split(" ")[1].slice(0,5)}),c.value=r.result,d.value=d.value?d.value:`${r.result.currentNumber}`,g.value=l})};return(y,r)=>{var x,D,I;const l=J,s=z,B=q,E=O,R=L;return a(),n("div",K,[e("div",Q,[_(l,{class:"avatar",fit:"cover",round:"",src:c.value.avatar||"https://yunketang-file.dream-sports.cn/avatar/defaultAvatar.jpg"},null,8,["src"]),e("div",W,[e("div",X,o(c.value.name),1),e("div",Y,[e("div",Z,o(c.value.nickName),1),p(" 的运动记录 ")])])]),e("div",ee,[te,_(B,{"active-color":"#0074E8"},{default:A(()=>[_(s,{modelValue:d.value,"onUpdate:modelValue":r[0]||(r[0]=t=>d.value=t),options:g.value,onChange:r[1]||(r[1]=t=>k())},null,8,["modelValue","options"])]),_:1})]),e("div",se,[(a(!0),n(C,null,b(c.value.taskGames,(t,v)=>(a(),n("div",{class:"sportProgressItem",key:v},[e("div",oe,[e("div",ae,o(t.name),1),t.type==1?(a(),n("div",ne,o(m(N)(t.goal).m?m(N)(t.goal).m:0)+"分钟",1)):f("",!0),t.type!=1?(a(),n("div",ce,o(t.goal)+o(m(w)(t.code)),1)):f("",!0)]),e("div",re,[e("div",de,[_(E,{percentage:t.percent,"pivot-text":"","stroke-width":".26rem",color:"#FDD429","border-radius":"0.24rem"},null,8,["percentage"])]),t.finishCount<t.goal?(a(),n("div",ie,o(t.percent)+"%",1)):(a(),n("div",le,[_(R,{color:"#48C97A",size:".44rem",name:"checked"}),_e]))])]))),128))]),e("div",me,[ue,(x=c.value.comment)!=null&&x.content?(a(),n("div",pe,[p(o(c.value.comment.content)+" ",1),ve])):(a(),n("div",he,"暂无评语")),(D=c.value.comment)!=null&&D.content?(a(),n("div",fe,[p(" 点评人："+o(c.value.comment.userName)+" ",1),ge,p(" 点评时间："+o(c.value.comment.createdDate),1)])):f("",!0)]),e("div",ke,[ye,(I=c.value.gameRecords)!=null&&I.length?(a(),n("div",xe,[(a(!0),n(C,null,b(c.value.gameRecords,(t,v)=>(a(),n("div",{class:"recordItem",key:v},[e("div",De,o(t.date),1),e("div",Ie,o(t.times),1),e("div",Ce,o(t.gameName),1),e("div",be,o(t.score)+o(m(w)(t.gameCode)),1),e("div",Ne,o(m(j)(t.time)),1)]))),128))])):(a(),n("div",we,"没有运动记录"))])])}}});const Ae=M(Se,[["__scopeId","data-v-852eab8f"]]);export{Ae as default};
