import{f as E,t as P,n as T,ar as N,aj as j,d as R,m as $,h as B,aX as K,q as z,al as H,bB as M,ay as Y,j as l,b7 as Z,a_ as q,aK as F,Y as L,as as U,i as X,bC as G,b5 as J,ak as D,aZ as Q,R as ee,S as te,a9 as oe,ae as ne,a5 as ae,w as V}from"./h5-ai-sport.v0.0.0.index.eb36d521.1684379358906.js";import{C as se}from"./h5-ai-sport.v0.0.0.index.6888f3f8.1684379358906.js";import{u as le}from"./h5-ai-sport.v0.0.0.use-id.019c9068.1684379358906.js";const[W,h]=E("dropdown-menu"),re={overlay:P,zIndex:T,duration:N(.2),direction:j("down"),activeColor:String,closeOnClickOutside:P,closeOnClickOverlay:P},_=Symbol(W);var ie=R({name:W,props:re,setup(t,{slots:i}){const c=le(),u=$(),n=$(),r=$(0),{children:d,linkChildren:p}=B(_),b=K(u),f=z(()=>d.some(o=>o.state.showWrapper)),g=z(()=>{if(f.value&&H(t.zIndex))return{zIndex:+t.zIndex+1}}),k=()=>{t.closeOnClickOutside&&d.forEach(o=>{o.toggle(!1)})},w=()=>{if(n.value){const o=q(n);t.direction==="down"?r.value=o.bottom:r.value=F.value-o.top}},O=()=>{f.value&&w()},x=o=>{d.forEach((e,a)=>{a===o?(w(),e.toggle()):e.state.showPopup&&e.toggle(!1,{immediate:!0})})},I=(o,e)=>{const{showPopup:a}=o.state,{disabled:s,titleClass:v}=o;return l("div",{id:`${c}-${e}`,role:"button",tabindex:s?void 0:0,class:[h("item",{disabled:s}),{[Z]:!s}],onClick:()=>{s||x(e)}},[l("span",{class:[h("title",{down:a===(t.direction==="down"),active:a}),v],style:{color:a?t.activeColor:""}},[l("div",{class:"van-ellipsis"},[o.renderTitle()])])])};return p({id:c,props:t,offset:r}),M(u,k),Y("scroll",O,{target:b,passive:!0}),()=>{var o;return l("div",{ref:u,class:h()},[l("div",{ref:n,style:g.value,class:h("bar",{opened:f.value})},[d.map(I)]),(o=i.default)==null?void 0:o.call(i)])}}});const[ce,y]=E("dropdown-item"),de={title:String,options:J(),disabled:Boolean,teleport:[String,Object],lazyRender:P,modelValue:D,titleClass:D};var ue=R({name:ce,inheritAttrs:!1,props:de,emits:["open","opened","close","closed","change","update:modelValue"],setup(t,{emit:i,slots:c,attrs:u}){const n=L({showPopup:!1,transition:!0,showWrapper:!1}),{parent:r,index:d}=U(_);if(!r)return;const p=e=>()=>i(e),b=p("open"),f=p("close"),g=p("opened"),k=()=>{n.showWrapper=!1,i("closed")},w=e=>{t.teleport&&e.stopPropagation()},O=(e=!n.showPopup,a={})=>{e!==n.showPopup&&(n.showPopup=e,n.transition=!a.immediate,e&&(n.showWrapper=!0))},x=()=>{if(c.title)return c.title();if(t.title)return t.title;const e=t.options.find(a=>a.value===t.modelValue);return e?e.text:""},I=e=>{const{activeColor:a}=r.props,s=e.value===t.modelValue,v=()=>{n.showPopup=!1,e.value!==t.modelValue&&(i("update:modelValue",e.value),i("change",e.value))},m=()=>{if(s)return l(ae,{class:y("icon"),color:a,name:"success"},null)};return l(se,{role:"menuitem",key:e.value,icon:e.icon,title:e.text,class:y("option",{active:s}),style:{color:s?a:""},tabindex:s?0:-1,clickable:!0,onClick:v},{value:m})},o=()=>{const{offset:e}=r,{zIndex:a,overlay:s,duration:v,direction:m,closeOnClickOverlay:A}=r.props,S=Q(a);return m==="down"?S.top=`${e.value}px`:S.bottom=`${e.value}px`,ee(l("div",ne({style:S,class:y([m]),onClick:w},u),[l(oe,{show:n.showPopup,"onUpdate:show":C=>n.showPopup=C,role:"menu",class:y("content"),overlay:s,position:m==="down"?"top":"bottom",duration:n.transition?v:0,lazyRender:t.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${r.id}-${d.value}`,closeOnClickOverlay:A,onOpen:b,onClose:f,onOpened:g,onClosed:k},{default:()=>{var C;return[t.options.map(I),(C=c.default)==null?void 0:C.call(c)]}})]),[[te,n.showWrapper]])};return X({state:n,toggle:O,renderTitle:x}),()=>t.teleport?l(G,{to:t.teleport},{default:()=>[o()]}):o()}});const me=V(ue),we=V(ie);export{me as D,we as a};
