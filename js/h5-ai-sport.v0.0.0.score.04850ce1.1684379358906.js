import{d as W,N as X,u as O,m as a,o as ee,c as d,e as v,C as U,v as e,j as r,B as n,A as l,P as D,y as _,bD as m,L as j,x as R,a2 as se,a5 as te,a9 as ae,E as oe,G as ne,_ as le}from"./h5-ai-sport.v0.0.0.index.eb36d521.1684379358906.js";import"./h5-ai-sport.v0.0.0.index.003661d8.1684379358906.js";import"./h5-ai-sport.v0.0.0.index.1e4387d5.1684379358906.js";import{L as ce}from"./h5-ai-sport.v0.0.0.index.e553e8f7.1684379358906.js";import{E as re}from"./h5-ai-sport.v0.0.0.index.4be15bca.1684379358906.js";import{g as ie,d as de,e as ue}from"./h5-ai-sport.v0.0.0.report.15a1f4b7.1684379358906.js";import{P as ve}from"./h5-ai-sport.v0.0.0.index.0e6566a2.1684379358906.js";import"./h5-ai-sport.v0.0.0.use-id.019c9068.1684379358906.js";import"./h5-ai-sport.v0.0.0.use-tab-status.cd1101d5.1684379358906.js";import"./h5-ai-sport.v0.0.0.index.e6cedffb.1684379358906.js";const c=k=>(oe("data-v-517b167c"),k=k(),ne(),k),_e={style:{"min-height":"100vh",padding:"0.1rem 0","background-color":"#e4e4e4"}},me={class:"page"},pe={class:"score-con-top1"},he={class:"flextop"},fe={style:{display:"flex","align-items":"center"}},ge={class:"flexdata"},ke={class:"item"},ye={class:"num"},xe=c(()=>e("text",null,"分",-1)),De=c(()=>e("div",{class:"title"},"成绩平均分",-1)),Ie={class:"item"},Se={class:"num"},$e=c(()=>e("text",null,"%",-1)),we=c(()=>e("div",{class:"title"},"班级排名前",-1)),ze={class:"item"},Ce={class:"num"},Te=c(()=>e("text",null,"%",-1)),Ne=c(()=>e("div",{class:"title"},"年级排名前",-1)),be={class:"page"},Re={class:"flex score-con-top2"},Le={style:{display:"flex","align-items":"center"}},Ye={key:0},Fe=["onClick"],Be={class:"title"},Me={class:"avater"},Ee={class:"avater-info"},Pe={class:"tit"},Ve=c(()=>e("text",null,"分",-1)),Ae=c(()=>e("div",{class:"name"},"成绩平均分",-1)),Ue={class:"avater-info"},je={class:"tit"},Ge=c(()=>e("div",{class:"name"},"成绩平均值",-1)),Ze={class:"avater-info"},qe={class:"tit"},He=c(()=>e("div",{class:"name"},"最好成绩值",-1)),Je={class:"avater-info"},Ke={class:"tit"},Qe=c(()=>e("text",null,"%",-1)),We=c(()=>e("div",{class:"name"},"班级排名前",-1)),Xe=W({__name:"score",setup(k){const i=X(),I=O(),u=a({}),p=a([]),h=a(!1),f=a(!1),S=a(i.params.startDate),$=a(i.params.endDate),w=a(i.params.schoolYear),z=a(i.params.selectTop),L=a(i.params.startDate),Y=a(i.params.endDate),F=a(i.params.schoolYear),y=a(i.params.selectTop),B=a(!1),C=a([]),G=a(i.params.currentFlag),M={text:"dateName",value:"dateName"},x=a(!1),T=a(!1),N=a(1),Z=a(10);ee(()=>{q()});const q=()=>{ie({testerId:I.userInfo.schoolInnerId,timeType:"1"}).then(t=>{let o=t.result;C.value=o,b(),E()}).catch(()=>{})},H=({selectedOptions:t})=>{h.value=!1,S.value=t[0].startDate,$.value=t[0].endDate,z.value=t[0].dateName,w.value=t[0].schoolYear,G.value=t[0].currentFlag,x.value=!1,T.value=!1,p.value=[],N.value=1,b()},b=()=>{de({testerId:I.userInfo.schoolInnerId,startTime:S.value,endTime:$.value,schoolYear:w.value,pageNo:N.value,pageSize:Z.value}).then(t=>{p.value.length>=t.result.total?T.value=!0:(p.value.push(...t.result.rows),N.value+=1,x.value=!1)}).catch(()=>{})},J=({selectedOptions:t})=>{f.value=!1,L.value=t[0].startDate,Y.value=t[0].endDate,y.value=t[0].dateName,F.value=t[0].schoolYear,E()},E=()=>{ue({testerId:I.userInfo.schoolInnerId,startTime:S.value,endTime:$.value,schoolYear:w.value}).then(t=>{u.value=t.result}).catch(()=>{})};return(t,o)=>{const g=te,P=re,K=ce,V=ve,A=ae;return d(),v("div",_e,[B.value?D("",!0):(d(),v(U,{key:0},[e("div",me,[e("div",pe,[e("div",he,[e("div",fe,[r(g,{name:"star",size:".24rem"}),n(" 运动数据 ")]),y.value?(d(),v("div",{key:0,class:"all",onClick:o[0]||(o[0]=s=>f.value=!0),id:"1"},[n(l(y.value)+" ",1),r(g,{name:"arrow-down",color:"#666",size:".24rem"})])):D("",!0)]),e("div",ge,[e("div",ke,[e("div",ye,[n(l(u.value.averageMark?_(m)(u.value.averageMark):"--")+" ",1),xe]),De]),e("div",Ie,[e("div",Se,[n(l(u.value.clazzRank*100?_(m)(u.value.clazzRank*100):0)+" ",1),$e]),we]),e("div",ze,[e("div",Ce,[n(l(u.value.gradeRank*100?_(m)(u.value.gradeRank*100):0)+" ",1),Te]),Ne])])])]),e("div",be,[e("div",Re,[e("div",Le,[r(g,{size:".24rem",name:"star"}),n(" 单项成绩 ")]),z.value?(d(),v("div",{key:0,onClick:o[1]||(o[1]=s=>h.value=!0),id:"1",class:"all"},[n(l(z.value)+" ",1),r(g,{name:"arrow-down",color:"#666",size:".24rem"})])):D("",!0)]),p.value.length==0?(d(),v("div",Ye,[r(P,{class:"custom-image",image:"https://yunketang-file.dream-sports.cn/static/cernosearch.png",description:"暂无运动记录"})])):(d(),j(K,{key:1,loading:x.value,"onUpdate:loading":o[2]||(o[2]=s=>x.value=s),finished:T.value,"finished-text":"",onLoad:b},{default:R(()=>[(d(!0),v(U,null,se(p.value,(s,Q)=>(d(),v("div",{class:"score-con",onClick:Oe=>t.$router.push(`/sport/report/list/${L.value}/${Y.value}/${y.value}/${F.value}/${s.itemId}/${s.item}`),key:Q},[e("div",Be,[n(l(s.item||"--")+" ",1),r(g,{name:"arrow",color:"#666",size:".346rem"})]),e("div",Me,[e("div",Ee,[e("div",Pe,[n(l(s.averageMark?_(m)(s.averageMark):"--")+" ",1),Ve]),Ae]),e("div",Ue,[e("div",je,[n(l(s.averageScore?_(m)(s.averageScore):"--")+" ",1),e("text",null,l(s.unit),1)]),Ge]),e("div",Ze,[e("div",qe,[n(l(s.bestAchievement?_(m)(s.bestAchievement):"--")+" ",1),e("text",null,l(s.unit),1)]),He]),e("div",Je,[e("div",Ke,[n(l(s.clazzRank*100?_(m)(s.clazzRank*100):"--")+" ",1),Qe]),We])])],8,Fe))),128))]),_:1},8,["loading","finished"]))])],64)),B.value?(d(),j(P,{key:1,description:"暂无测试成绩"})):D("",!0),r(A,{show:h.value,position:"bottom",onClose:o[4]||(o[4]=s=>h.value=!1)},{default:R(()=>[r(V,{columns:C.value,"columns-field-names":M,"show-toolbar":"",onCancel:o[3]||(o[3]=s=>h.value=!1),onConfirm:H},null,8,["columns"])]),_:1},8,["show"]),r(A,{show:f.value,position:"bottom",onClose:o[6]||(o[6]=s=>f.value=!1)},{default:R(()=>[r(V,{columns:C.value,"columns-field-names":M,"show-toolbar":"",onCancel:o[5]||(o[5]=s=>f.value=!1),onConfirm:J},null,8,["columns"])]),_:1},8,["show"])])}}});const ds=le(Xe,[["__scopeId","data-v-517b167c"]]);export{ds as default};
