var F=Object.defineProperty;var C=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var N=(t,e,n)=>e in t?F(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e)=>{for(var n in e||(e={}))H.call(e,n)&&N(t,n,e[n]);if(C)for(var n of C(e))K.call(e,n)&&N(t,n,e[n]);return t};var k=(t,e,n)=>new Promise((s,r)=>{var a=c=>{try{d(n.next(c))}catch(o){r(o)}},u=c=>{try{d(n.throw(c))}catch(o){r(o)}},d=c=>c.done?s(c.value):Promise.resolve(c.value).then(a,u);d((n=n.apply(t,e)).next())});import{y as w,bx as Y,by as J,aC as X,o as R,ax as Z,m as g,q as E,aw as ee,d as te,N as ne,b as se,Y as L,a4 as ae,bz as oe,c as _,e as h,v as i,A as m,C as D,a2 as q,V as A,L as B,P as O,E as re,G as ie,_ as ce}from"./h5-ai-sport.v0.0.0.index.a6c8dc0f.1684379857111.js";import{D as ue}from"./h5-ai-sport.v0.0.0.DPlayer.min.b57133eb.1684379857111.js";import{I as le}from"./h5-ai-sport.v0.0.0.index.92382d81.1684379857111.js";var T;const I=typeof window!="undefined",de=t=>typeof t=="string",pe=()=>{};I&&((T=window==null?void 0:window.navigator)!=null&&T.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function U(t){return typeof t=="function"?t():w(t)}function ve(t){return t}function fe(t){let e;function n(){return e||(e=t()),e}return n.reset=()=>k(this,null,function*(){const s=e;e=void 0,s&&(yield s)}),n}function _e(t){return Y()?(J(t),!0):!1}function me(t,e=!0){X()?R(t):e?t():Z(t)}function ge(t){var e;const n=U(t);return(e=n==null?void 0:n.$el)!=null?e:n}const V=I?window:void 0,ke=I?window.document:void 0,P=I?window.navigator:void 0;function b(...t){let e,n,s,r;if(de(t[0])||Array.isArray(t[0])?([n,s,r]=t,e=V):[e,n,s,r]=t,!e)return pe;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const a=[],u=()=>{a.forEach(p=>p()),a.length=0},d=(p,v,f,l)=>(p.addEventListener(v,f,l),()=>p.removeEventListener(v,f,l)),c=ee(()=>[ge(e),U(r)],([p,v])=>{u(),p&&a.push(...n.flatMap(f=>s.map(l=>d(p,f,l,v))))},{immediate:!0,flush:"post"}),o=()=>{c(),u()};return _e(o),o}function S(t,e=!1){const n=g(),s=()=>n.value=Boolean(t());return s(),me(s,e),n}const $=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Q="__vueuse_ssr_handlers__";$[Q]=$[Q]||{};function ye(t,e={}){const{controls:n=!1,navigator:s=P}=e,r=S(()=>s&&"permissions"in s);let a;const u=typeof t=="string"?{name:t}:t,d=g(),c=()=>{a&&(d.value=a.state)},o=fe(()=>k(this,null,function*(){if(r.value){if(!a)try{a=yield s.permissions.query(u),b(a,"change",c),c()}catch(p){d.value="prompt"}return a}}));return o(),n?{state:d,isSupported:r,query:o}:d}function he(t={}){const{navigator:e=P,requestPermissions:n=!1,constraints:s={audio:!0,video:!0},onUpdated:r}=t,a=g([]),u=E(()=>a.value.filter(l=>l.kind==="videoinput")),d=E(()=>a.value.filter(l=>l.kind==="audioinput")),c=E(()=>a.value.filter(l=>l.kind==="audiooutput")),o=S(()=>e&&e.mediaDevices&&e.mediaDevices.enumerateDevices),p=g(!1);function v(){return k(this,null,function*(){o.value&&(a.value=yield e.mediaDevices.enumerateDevices(),r==null||r(a.value))})}function f(){return k(this,null,function*(){if(!o.value)return!1;if(p.value)return!0;const{state:l,query:y}=ye("camera",{controls:!0});return yield y(),l.value!=="granted"&&((yield e.mediaDevices.getUserMedia(s)).getTracks().forEach(j=>j.stop()),v()),p.value=!0,p.value})}return o.value&&(n&&f(),b(e.mediaDevices,"devicechange",v),v()),{devices:a,ensurePermissions:f,permissionGranted:p,videoInputs:u,audioInputs:d,audioOutputs:c,isSupported:o}}var z;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(z||(z={}));const we=(t={})=>{const{window:e=V}=t,n=S(()=>e&&"screen"in e&&"orientation"in e.screen),s=n.value?e.screen.orientation:{},r=g(s.type),a=g(s.angle||0);return n.value&&b(e,"orientationchange",()=>{r.value=s.type,a.value=s.angle}),{isSupported:n,orientation:r,angle:a,lockOrientation:c=>n.value?s.lock(c):Promise.reject(new Error("Not supported")),unlockOrientation:()=>{n.value&&s.unlock()}}};var Oe=Object.defineProperty,G=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable,M=(t,e,n)=>e in t?Oe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Se=(t,e)=>{for(var n in e||(e={}))Ie.call(e,n)&&M(t,n,e[n]);if(G)for(var n of G(e))be.call(e,n)&&M(t,n,e[n]);return t};const Ee={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Se({linear:ve},Ee);const Pe=(t={})=>{const{navigator:e=P,document:n=ke}=t;let s;const r=S(()=>e&&"wakeLock"in e),a=g(!1);function u(){return k(this,null,function*(){!r.value||!s||(n&&n.visibilityState==="visible"&&(s=yield e.wakeLock.request("screen")),a.value=!s.released)})}n&&b(n,"visibilitychange",u,{passive:!0});function d(o){return k(this,null,function*(){r.value&&(s=yield e.wakeLock.request(o),a.value=!s.released)})}function c(){return k(this,null,function*(){!r.value||!s||(yield s.release(),a.value=!s.released,s=null)})}return{isSupported:r,isActive:a,request:d,release:c}},W=t=>(re("data-v-2d9d0061"),t=t(),ie(),t),Ce={class:"topdiv"},Ne={class:"sportName"},xe=["src"],Le={class:"introduce"},De={class:"int_title"},qe={class:"introducediv"},Ae=W(()=>i("div",{id:"dplayer"},null,-1)),Be={key:0,class:"ranking"},Te=W(()=>i("div",{class:"rank_tit"},[i("div",null,"周运动排名")],-1)),$e={key:0,class:"rank_item my"},Qe={class:"rank_item_left"},ze={class:"rank_item_right"},Ge={class:"avater-container"},Me={class:"ellipsis",style:{"max-width":"280px"}},Re={class:"rank_item_left"},Ue={class:"rank_item_right"},Ve={class:"avater-container"},We={class:"ellipsis",style:{"max-width":"280px"}},je=te({__name:"details",setup(t){try{he({requestPermissions:!0});const{lockOrientation:o}=we();o("landscape")}catch(o){console.log("%c [ error ]-53-「details.vue」","font-size:13px; background:#f5a009; color:#ffe44d;",o)}const e=ne(),n=se(),s=L(x({},e.params)),r=g([]),a=g({}),u=ae.find(o=>o.code===s.code);R(()=>{new ue({container:document.getElementById("dplayer"),video:{pic:`https://go-ran-pic.lovedabai.com/video/video_poster_${u.code}.png`,url:`https://go-ran-pic.lovedabai.com/video/sport/app-${u.code=="ShenDun"?"ShengDun":u.code}-720.mp4`}}),oe({code:e.params.code,filterType:"week",pageSize:50,filterScope:"school"}).then(o=>{r.value=o.result.rows,a.value=o.result.extra,console.log("%c [  ranking.value ]-81-「details.vue」","font-size:13px; background:#bc8b42; color:#ffcf86;",r.value)})});const d=()=>{n.push(`/sport/guide/${e.params.code}/1;`)},c=()=>{try{L(Pe()).request("screen")}catch(o){console.log("%c [ error ]-82-「details.vue」","font-size:13px; background:#0341b5; color:#4785f9;",o)}localStorage.getItem(`${e.params.code}_flag`)?n.push(`/${e.params.code}`):(localStorage.setItem(`${e.params.code}_flag`,"true"),n.push(`/sport/guide/${e.params.code}`))};return(o,p)=>{var f;const v=le;return _(),h("div",null,[i("div",Ce,[i("div",Ne,m(w(u).name),1),i("img",{class:"sport_icon",src:`https://yunketang-file.dream-sports.cn/static/${w(u).code}.png`,alt:""},null,8,xe),i("img",{class:"goBtn",src:"https://yunketang-file.dream-sports.cn/static/go_btn.png",onClick:c})]),i("div",Le,[i("div",De,m(w(u).name),1),i("div",qe,[(_(!0),h(D,null,q(w(u).introduce,(l,y)=>(_(),h("div",{key:y,class:"int_item"},m(l),1))),128))])]),i("div",{class:"guide_video_div"},[Ae,i("img",{onClick:d,src:"https://yunketang-file.dream-sports.cn/static/ydsm.png"})]),r.value.length?(_(),h("div",Be,[Te,(f=a.value)!=null&&f.rank?(_(),h("div",$e,[i("div",Qe,[i("span",{class:A("rankNum num"+a.value.rank)},m(a.value.rank),3)]),i("div",ze,[i("div",Ge,[a.value.avatar?(_(),B(v,{key:0,fit:"cover",round:"",class:"rank_avatar",src:a.value.avatar},null,8,["src"])):O("",!0),i("span",Me,m(a.value.nickName),1)]),i("span",null,m(a.value.score),1)])])):O("",!0),(_(!0),h(D,null,q(r.value,(l,y)=>(_(),h("div",{key:y,class:"rank_item"},[i("div",Re,[i("span",{class:A("rankNum num"+(y+1))},m(y+1),3)]),i("div",Ue,[i("div",Ve,[l.avatar?(_(),B(v,{key:0,fit:"cover",round:"",class:"rank_avatar",src:l.avatar},null,8,["src"])):O("",!0),i("span",We,m(l.nickName),1)]),i("span",null,m(l.score),1)])]))),128))])):O("",!0)])}}});const Xe=ce(je,[["__scopeId","data-v-2d9d0061"]]);export{Xe as default};
