import{d as m,b as v,u as S,c as r,e as x,j as _,v as n,z as y,y as t,A as a,L as d,x as u,B as k,H as f,X as b,bp as w,bq as B,br as D,ad as T,D as C,_ as O}from"./h5-ai-sport.v0.0.0.index.eb36d521.1684379358906.js";import{u as j}from"./h5-ai-sport.v0.0.0.SkinConfig.59ff3649.1684379358906.js";import{I as N}from"./h5-ai-sport.v0.0.0.index.1a7b6993.1684379358906.js";const V={class:"skinDetail"},z={class:"bottom_bar"},E={class:"skin_info"},U={class:"left"},q={class:"right"},A={class:"btn"},H=m({__name:"skindetail",setup(L){const g=v(),e=j(),o=S(),p=()=>{e.skinInfo.integralTotal<e.skinInfo.exchangeIntegral?f("你的积分还不够兑换该皮肤"):b({title:"皮肤兑换",message:`兑换此皮肤需要消耗${e.skinInfo.exchangeIntegral}积分，确认兑换吗？`}).then(()=>{w({code:e.skinInfo.code}).then(l=>{if(l.result){f("皮肤兑换成功");let i={isOwn:!0,integralTotal:o.userInfo.integralTotal-e.skinInfo.exchangeIntegral},c=e.skinInfo,s=Object.assign(c,i);e.setSkinInfo(s),o.setUserInfo()}}).catch(()=>{})}).catch(()=>{})},I=()=>{e.skinInfo.used||B({code:e.skinInfo.code,action:"putOn"}).then(()=>{D({message:"皮肤使用成功"}).then(()=>{g.back()})})};return(l,h)=>{const i=T,c=N,s=C;return r(),x("div",V,[_(i,{id:"van-dialog"}),n("div",{class:"skin_prediv",style:y("background-image:url("+t(e).skinInfo.preview+")")},null,4),n("div",z,[n("div",E,[n("div",U,a(t(e).skinInfo.name),1),n("div",q,[_(c,{src:"https://yunketang-file.dream-sports.cn/static/skin_detail_icon1.png"}),n("div",null,a(t(o).userInfo.integralTotal)+"/"+a(t(e).skinInfo.exchangeIntegral),1)])]),n("div",A,[t(e).skinInfo.isOwn?(r(),d(s,{key:0,onClick:I,type:"primary",round:""},{default:u(()=>[k(a(t(e).skinInfo.used?"正在使用":"使用皮肤"),1)]),_:1})):(r(),d(s,{key:1,onClick:p,type:"primary",round:""},{default:u(()=>[k("兑换皮肤")]),_:1}))])])])}}});const F=O(H,[["__scopeId","data-v-02051d03"]]);export{F as default};
