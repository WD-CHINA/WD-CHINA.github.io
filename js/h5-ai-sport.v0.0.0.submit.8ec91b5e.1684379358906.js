import{_ as Q}from"./h5-ai-sport.v0.0.0.WarnDialog.0211fbe8.1684379358906.js";import{d as X,b as $,m as k,o as D,a4 as w,c as o,e as n,v as t,j as u,x as I,C as y,a2 as b,P as v,B as f,L as F,H as V,T as M,U as B,br as j,D as G,E as A,G as H,z as C,A as h,y as O,a5 as R,_ as q}from"./h5-ai-sport.v0.0.0.index.eb36d521.1684379358906.js";import"./h5-ai-sport.v0.0.0.index.6888f3f8.1684379358906.js";import{F as J}from"./h5-ai-sport.v0.0.0.index.7607d65e.1684379358906.js";import{a as K,T as W}from"./h5-ai-sport.v0.0.0.index.003661d8.1684379358906.js";import{f as Y}from"./h5-ai-sport.v0.0.0.unit.7fbf2605.1684379358906.js";import{u as Z}from"./h5-ai-sport.v0.0.0.Task.9cd77887.1684379358906.js";import{e as ee}from"./h5-ai-sport.v0.0.0.teacher.940aef37.1684379358906.js";import"./h5-ai-sport.v0.0.0.index.1a7b6993.1684379358906.js";import"./h5-ai-sport.v0.0.0.use-id.019c9068.1684379358906.js";import"./h5-ai-sport.v0.0.0.use-tab-status.cd1101d5.1684379358906.js";import"./h5-ai-sport.v0.0.0.index.e6cedffb.1684379358906.js";const x=g=>(A("data-v-ea249b58"),g=g(),H(),g),te={style:{height:"100%"}},ae={class:"checkTask"},se=x(()=>t("div",{class:"checkTitle"},"设定目标",-1)),oe={class:"secoudTit"},ne=x(()=>t("div",null,"运动目标",-1)),le={class:"tab-top"},ie={key:0,class:"taskList"},de=["data-item","data-index"],ce={class:"taskItemLeft"},ue={class:"sportName ellipsis"},re={class:"tip"},me={class:"inputBox"},pe={key:1,class:"taskList"},_e=["data-item","data-index"],ve={class:"taskItemLeft"},fe={class:"sportName ellipsis"},he=x(()=>t("div",{class:"tip"},"每日运动时长(分钟)",-1)),ge={class:"inputBox"},ke={class:"bottomBtnbox"},ye=X({__name:"submit",setup(g){const S=$(),d=Z(),E=[{text:"按总数",value:0},{text:"按时长",value:1}],i=k(0),r=k(!1),m=k([]),p=k([]);D(()=>{d.games.forEach(l=>{w.forEach(a=>{l===a.code&&m.value.push({name:a.name,code:l,type:0})})}),d.games.forEach(l=>{w.forEach(a=>{l===a.code&&p.value.push({name:a.name,code:l,type:1})})})});const U=()=>{if(i.value===0){for(let s=0;s<m.value.length;s++)if(!m.value[s].goal)return V("请填写所有运动的目标个数")}if(i.value===1){for(let s=0;s<p.value.length;s++)if(!p.value[s].goal)return V("请填写所有运动的目标时长")}let l=[];i.value===1&&(l=p.value.map(s=>({code:s.code,goal:s.goal*60,name:s.name,type:s.type})));let a={name:d.name,type:"day",startTimestamp:d.startTimestamp,endTimestamp:d.endTimestamp,teamIds:d.teamIds,gameGoals:i.value===0?m.value:l};M({message:"提交中...",forbidClick:!0}),ee(a).then(()=>{B(),j({message:"运动计划创建成功"}).then(()=>{d.$reset(),S.replace("/task")}).catch(()=>{})}).catch(()=>{B()})};return(l,a)=>{const s=K,N=W,T=R,L=J,P=G,z=Q;return o(),n("div",te,[t("div",ae,[se,t("div",oe,[ne,t("div",le,[u(N,{type:"card",active:i.value,"onUpdate:active":a[0]||(a[0]=e=>i.value=e),color:"#0074E8"},{default:I(()=>[(o(),n(y,null,b(E,(e,c)=>u(s,{title:e.text,name:e.value,key:c},null,8,["title","name"])),64))]),_:1},8,["active"])])]),i.value===0?(o(),n("div",ie,[(o(!0),n(y,null,b(m.value,(e,c)=>(o(),n("div",{class:"taskItem","data-item":e,"data-index":c,key:c},[t("div",ce,[t("div",{class:"sportImg",style:C("background-image:url(https://yunketang-file.dream-sports.cn/static/"+e.code+".png)")},null,4),t("div",null,[t("div",ue,[f(h(e.name)+" ",1),e.code=="PaoQuanXunLian"?(o(),n("div",{key:0,style:{"font-size":"20px","font-weight":"500",color:"#c81c24"},onClick:a[1]||(a[1]=_=>r.value=!0)},[u(T,{name:"warning"}),f(" "+h(e.code=="PaoQuanXunLian"?"需配备设备":""),1)])):v("",!0)]),t("div",re,"每日运动"+h(O(Y)(e.code)+"数"),1)])]),t("div",me,[u(L,{placeholder:"请填写数字",modelValue:e.goal,"onUpdate:modelValue":_=>e.goal=_,modelModifiers:{number:!0},type:"number",maxlength:5,label:""},null,8,["modelValue","onUpdate:modelValue"])])],8,de))),128))])):v("",!0),i.value===1?(o(),n("div",pe,[(o(!0),n(y,null,b(p.value,(e,c)=>(o(),n("div",{class:"taskItem","data-item":e,"data-index":c,key:c},[t("div",ve,[t("div",{class:"sportImg",style:C("background-image:url(https://yunketang-file.dream-sports.cn/static/"+e.code+".png)")},null,4),t("div",null,[t("div",fe,[f(h(e.name)+" ",1),e.code=="PaoQuanXunLian"?(o(),n("div",{key:0,style:{"font-size":"20px","font-weight":"500",color:"#c81c24"},onClick:a[2]||(a[2]=_=>r.value=!0)},[u(T,{name:"warning"}),f(" "+h(e.code=="PaoQuanXunLian"?"需配备设备":""),1)])):v("",!0)]),he])]),t("div",ge,[u(L,{placeholder:"请填写数字",modelValue:e.goal,"onUpdate:modelValue":_=>e.goal=_,modelModifiers:{number:!0},type:"number",autocomplete:"off",maxlength:5,label:""},null,8,["modelValue","onUpdate:modelValue"])])],8,_e))),128))])):v("",!0),t("div",ke,[u(P,{onClick:U,class:"project_nextBtn"},{default:I(()=>[f("提交")]),_:1})])]),r.value?(o(),F(z,{key:0,showdialog:r.value,text:"每个点位1屏+1立杆摄像头，推荐3-4个点位摄像头短杆，看外侧两道",onClose:a[3]||(a[3]=e=>r.value=!1)},null,8,["showdialog"])):v("",!0)])}}});const Ne=q(ye,[["__scopeId","data-v-ea249b58"]]);export{Ne as default};
