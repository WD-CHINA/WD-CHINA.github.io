import{T as C,U as g,_ as T,c as d,e as u,v as _,C as p,a2 as f,A as v,z as x,B as S,L as $,P as k,a5 as B,d as V,N as P,b as I,m as h,j as b,H as N}from"./h5-ai-sport.v0.0.0.index.eb36d521.1684379358906.js";import{g as E}from"./h5-ai-sport.v0.0.0.city.1074dda7.1684379358906.js";import"./h5-ai-sport.v0.0.0.index.6888f3f8.1684379358906.js";import{F}from"./h5-ai-sport.v0.0.0.index.7607d65e.1684379358906.js";import"./h5-ai-sport.v0.0.0.use-id.019c9068.1684379358906.js";const R={name:"RegionContainer",props:{regionShow:Boolean},data(){return{datas:[],tabList:[],cityList:[],isShow:!1,id:""}},mounted(){this.attached()},methods:{attached(){this.getData("",1)},getData(t,e,i){const o=this;let s=this.tabList;C({mask:!0,message:"加载中",forbidClick:!0}),E({level:e,parentId:t}).then(n=>{if(g(),o.cityList=n.result,!t)o.initTabs();else{let l=s[s.length-1];l.level=e-1,l.name=i,l.id=t;let a={level:-1,name:"",list:n.result};o.tabList.push(a)}}).catch(()=>{g()})},initTabs:function(){let t=[],e=this.cityList;e&&e.length!=0&&t.push({level:-1,name:"请选择",node:{},list:e}),this.tabList=t},clickMask:function(t){t.target.id==="region_picker_mask"&&(this.isShow=!1,this.$emit("region-event-show",{detail:{show:!1}}),this.initTabs())},clickClose:function(){this.isShow=!1,this.$emit("region-event-show",{detail:{show:!1}}),this.initTabs()},clickTabItem:function(t){let e=t,i=this.tabList,o=[];for(let s=0;s<e+1;s++)o.push(i[s]);this.tabList=o,this.cityList=i[e].list},clickItem:function(t){console.log("%c [ e ]-144","font-size:13px; background:pink; color:#bf2c9f;",t);let e=Number(t.target.dataset.level),i=t.target.dataset.name,o=t.target.dataset.id,s=this.tabList;e<3?this.getData(o,e+1,i):(console.log(1234),this.tabList=s,this.$emit("region-event-confirm",{detail:{id:o,name:i}}))}}};const D={key:0,class:"region_container"},z={class:"region_picker_tab"},A=["onClick"],U={class:"region_picker_content"},j=["data-index","data-name","data-id","data-level"];function G(t,e,i,o,s,n){const l=B;return i.regionShow?(d(),u("div",D,[_("div",z,[(d(!0),u(p,null,f(s.tabList,(a,c)=>(d(),u("div",{key:c,class:"region_picker_tab_item",onClick:r=>n.clickTabItem(c)},v(a.level==-1?"请选择":a.name),9,A))),128))]),_("div",U,[_("div",null,[(d(!0),u(p,null,f(s.cityList,(a,c)=>(d(),u("div",{class:"region_picker_content_item","data-index":c,"data-name":a.name,"data-id":a.id,"data-level":a.level,onClick:e[0]||(e[0]=(...r)=>n.clickItem&&n.clickItem(...r)),style:x("color:"+(a.id==s.tabList.at(-1).id?"#0074E8":"#333")),key:c},[S(v(a.name)+" ",1),a.id==s.tabList.at(-1).id?(d(),$(l,{key:0,color:"#0074E8",name:"passed"})):k("",!0)],12,j))),128))])])])):k("",!0)}const H=T(R,[["render",G],["__scopeId","data-v-daea95a1"]]),M={class:"schoolChoice"},q={class:"searchInput"},J={class:"searchView"},K=_("div",{class:"minGaps"},"按地区查找",-1),Z=V({__name:"schoolchoose",setup(t){const e=P(),i=I(),o=h(e.params.fromPage||""),s=h(!0),n=h(""),l=()=>{if(!n.value)return N("请输入学校名称");i.push(`/info/schoolresult?id=&keyword=${n.value}&fromPage=${o.value}`)},a=r=>{c(r)},c=r=>{i.push(`/info/schoolresult?id=${r.detail.id}&keyword=${n.value}&fromPage=${o.value}`)};return(r,m)=>{const L=F,y=H;return d(),u("div",M,[_("div",q,[_("div",J,[b(L,{"placeholder-style":"color:#48A2FC",modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=w=>n.value=w),placeholder:"输入学校名称",border:!1},null,8,["modelValue"])]),_("div",{class:"searchBtn",onClick:l},"搜索")]),K,b(y,{onRegionEventConfirm:a,"region-show":s.value},null,8,["region-show"])])}}});export{Z as default};
