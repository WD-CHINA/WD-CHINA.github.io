import{d as K,m as n,a4 as M,c as a,e as c,j as l,x as F,v as o,C as b,a2 as V,P as d,L as O,A as h,bv as Q,H as U,T as W,bw as X,U as B,E as Y,G as Z,V as S,_ as ee}from"./h5-ai-sport.v0.0.0.index.95bda2e2.1684318478178.js";import{E as te}from"./h5-ai-sport.v0.0.0.index.f8ed52ae.1684318478178.js";import{L as oe}from"./h5-ai-sport.v0.0.0.index.78283ae5.1684318478178.js";import{U as se}from"./h5-ai-sport.v0.0.0.index.99178b68.1684318478178.js";import"./h5-ai-sport.v0.0.0.index.250d1fd0.1684318478178.js";import{F as ae}from"./h5-ai-sport.v0.0.0.index.dd2c3934.1684318478178.js";import{a as ce,T as ne}from"./h5-ai-sport.v0.0.0.index.c132801b.1684318478178.js";import{u as le}from"./h5-ai-sport.v0.0.0.FeedList.47196b1c.1684318478178.js";import{I as ie}from"./h5-ai-sport.v0.0.0.index.9c59126a.1684318478178.js";import"./h5-ai-sport.v0.0.0.use-id.63b167f5.1684318478178.js";import"./h5-ai-sport.v0.0.0.use-tab-status.b97a6de6.1684318478178.js";import"./h5-ai-sport.v0.0.0.index.9d8d98ea.1684318478178.js";import"./h5-ai-sport.v0.0.0.index.1828ee52.1684318478178.js";const x=_=>(Y("data-v-3f82f5cd"),_=_(),Z(),_),de={style:{height:"100%"}},re={key:0,style:{"padding-top":"44px"}},ue={class:"textareaView"},pe={class:"typeCheckView"},_e=x(()=>o("div",{class:"feedbackTitle"},"反馈类型",-1)),ve={class:"checkView"},me=["onClick"],fe={key:0},he=x(()=>o("div",{class:"feedbackTitle"},"项目体验",-1)),ke={class:"checkView"},ge=["onClick"],ye={class:"mobileInput"},be={class:"inputView"},Ve={class:"uploadView"},xe={key:1,style:{"padding-top":"44px"}},Ce=x(()=>o("div",{style:{"border-top":"10px #f3f4f5 solid"}},null,-1)),we=["onClick"],Le={class:"feed-top"},Ie={class:"feed-top-left"},Te={key:0,class:"feed-top-right"},Fe={key:1,class:"feed-top-right-r"},Ue={class:"feed-bot"},Be={key:1,class:"noodata"},Se=K({__name:"feedback",setup(_){const E=le(),z=[{name:"识别不准",code:0},{name:"加载缓慢",code:1},{name:"账号问题",code:2},{name:"功能建议",code:3},{name:"其他",code:4}],v=n(M),k=n(0),p=n(""),r=n([]),m=n([]),f=n(""),g=n(""),C=n(1),y=n(!1),w=n(!1),N=t=>{p.value=t},$=t=>{k.value=t.name,L()},j=t=>{v.value[t].check=!v.value[t].check},L=()=>{Q({pageSize:10,pageNo:C.value}).then(t=>{r.value.length>=t.result.total?w.value=!0:(C.value+=1,y.value=!1,r.value.push(...t.result.rows)),E.setFeedList(r.value)})},D=()=>{if(!f.value&&!m.value.length)return U("请提交反馈内容");let t=[];m.value.forEach(i=>{t.push(i.reUrl)});let s=[];p.value===0?v.value.forEach(i=>{i.check&&s.push(i.name)}):s=[],W({message:"提交中...",forbidClick:!0}),X({clientType:0,content:f.value,contact:g.value,pics:"",category:s.length?s.join(","):"",type:p.value}).then(()=>{B(),U("我们已收到您的反馈")}).catch(()=>{B()})},P=t=>{console.log("%c [ e ]-168-「feedback.vue」","font-size:13px; background:#4868b6; color:#8cacfa;",t)},A=t=>{console.log("%c [ e ]-168-「feedback.vue」","font-size:13px; background:#4868b6; color:#8cacfa;",t)};return(t,s)=>{const i=ce,G=ne,I=ae,H=ie,R=se,q=oe,J=te;return a(),c("div",de,[l(G,{class:"tabs",onClickTab:$,color:"#0074e8","title-active-color":"#0074e8"},{default:F(()=>[l(i,{title:"提交反馈",name:0}),l(i,{title:"反馈记录",name:1})]),_:1}),k.value===0?(a(),c("div",re,[o("div",ue,[o("div",pe,[_e,o("div",ve,[(a(),c(b,null,V(z,(e,u)=>o("div",{onClick:T=>N(e.code),class:S("checkViewItem type "+(p.value===e.code?"act":"")),key:u},h(e.name),11,me)),64))]),p.value===0?(a(),c("div",fe,[he,o("div",ke,[(a(!0),c(b,null,V(v.value,(e,u)=>(a(),c("div",{class:S("checkViewItem "+(e.check?"act":"")),onClick:T=>j(u),key:u},h(e.name),11,ge))),128))])])):d("",!0)]),l(I,{class:"textareaBody",maxlength:200,autosize:"",rows:20,border:!1,modelValue:f.value,"onUpdate:modelValue":s[0]||(s[0]=e=>f.value=e),type:"textarea",placeholder:"欢迎您的建议与吐槽，我们将努力做得更好~"},null,8,["modelValue"])]),o("div",ye,[l(H,{src:"https://yunketang-file.dream-sports.cn/static/mobileIcon.png",fit:"cover"}),o("div",be,[l(I,{type:"tel",class:"phone",maxlength:11,modelValue:g.value,"onUpdate:modelValue":s[1]||(s[1]=e=>g.value=e),placeholder:"输入您的手机号，方便我们联系您"},null,8,["modelValue"])])]),o("div",Ve,[l(R,{accept:"image/*",modelValue:m.value,"onUpdate:modelValue":s[2]||(s[2]=e=>m.value=e),multiple:"","max-count":"5",onDelete:A,"before-read":P},null,8,["modelValue"])]),o("div",{class:"submitBtn",onClick:D},"提 交")])):d("",!0),k.value===1?(a(),c("div",xe,[Ce,r.value.length>0?(a(),O(q,{key:0,loading:y.value,"onUpdate:loading":s[3]||(s[3]=e=>y.value=e),finished:w.value,"finished-text":"",onLoad:L},{default:F(()=>[(a(!0),c(b,null,V(r.value,(e,u)=>(a(),c("div",{onClick:T=>t.$router.push(`/info/feeddetails/${u}`),class:"feed-list-item",key:e.id},[o("div",Le,[o("div",Ie,h(e.createdDate||""),1),e.status===1?(a(),c("div",Te,"已回复")):d("",!0),e.status===0?(a(),c("div",Fe,"等待处理")):d("",!0)]),o("div",Ue,h(e.content||"[图片]"),1)],8,we))),128))]),_:1},8,["loading","finished"])):d("",!0),r.value.length===0?(a(),c("div",Be,[l(J,{image:"https://yunketang-file.dream-sports.cn/static/noProjectImg.png",description:"暂无反馈记录"})])):d("",!0)])):d("",!0)])}}});const Ke=ee(Se,[["__scopeId","data-v-3f82f5cd"]]);export{Ke as default};
