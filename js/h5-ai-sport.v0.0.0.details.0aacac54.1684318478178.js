import{d as P,u as S,m as k,a3 as y,c as s,e as T,v as G,j as o,x as u,y as e,L as i,P as b,a8 as H,H as q,a5 as z,a9 as J,_ as K}from"./h5-ai-sport.v0.0.0.index.95bda2e2.1684318478178.js";import"./h5-ai-sport.v0.0.0.index.c132801b.1684318478178.js";import"./h5-ai-sport.v0.0.0.index.383d5f05.1684318478178.js";import{A as Q}from"./h5-ai-sport.v0.0.0.index.09dfd800.1684318478178.js";import{C as W}from"./h5-ai-sport.v0.0.0.index.d5370f6e.1684318478178.js";import{C as X}from"./h5-ai-sport.v0.0.0.index.250d1fd0.1684318478178.js";import{U as Z}from"./h5-ai-sport.v0.0.0.index.99178b68.1684318478178.js";import{g as x}from"./h5-ai-sport.v0.0.0.gradeLevel.6ea0a11d.1684318478178.js";import{o as ee,D as te}from"./h5-ai-sport.v0.0.0.upload.9003ded0.1684318478178.js";import{I as ae}from"./h5-ai-sport.v0.0.0.index.9c59126a.1684318478178.js";import"./h5-ai-sport.v0.0.0.use-id.63b167f5.1684318478178.js";import"./h5-ai-sport.v0.0.0.use-tab-status.b97a6de6.1684318478178.js";import"./h5-ai-sport.v0.0.0.index.1828ee52.1684318478178.js";import"./h5-ai-sport.v0.0.0.index.9d8d98ea.1684318478178.js";import"./h5-ai-sport.v0.0.0.utils.f3c515c9.1684318478178.js";import"./h5-ai-sport.v0.0.0.index.cfda08b3.1684318478178.js";const oe={class:"editMy"},ne={class:"cellView"},le=P({__name:"details",setup(re){const t=S(),U=[{name:"男",value:"M"},{name:"女",value:"F"}],h=new Date(1950,0,1),w=new Date,D=["year","month","day"],L=(l,a)=>(l==="year"&&(a.text+="年"),l==="month"&&(a.text+="月"),l==="day"&&(a.text+="日"),a),p=k(!1),m=k(!1),f=k([y().format("YYYY"),y().format("MM"),y().format("DD")]),N=()=>{m.value=!1,C({birthday:`${f.value[0]}-${f.value[1]}-${f.value[2]}`})},O=l=>{ee(l)},$=l=>{p.value=!1,C({gender:l.value})},C=l=>{H(l).then(()=>{q("更新成功"),S().setUserInfo()})};return(l,a)=>{const V=ae,M=Z,A=z,n=X,I=W,B=Q,Y=te,j=J;return s(),T("div",oe,[G("div",ne,[o(I,null,{default:u(()=>{var r,d,c,v,_,g,E,R;return[o(n,{center:"","custom-class":"avatar_cell",title:"头像"},{"right-icon":u(()=>[o(M,{"after-read":O,disabled:e(t).userInfo.roleCode!=="ROLE_USER"},{default:u(()=>[o(V,{fit:"cover",round:"",class:"avatar",src:e(t).userInfo.avatar||"https://yunketang-file.dream-sports.cn/avatar/defaultAvatar.jpg"},null,8,["src"])]),_:1},8,["disabled"]),e(t).userInfo.roleCode==="ROLE_USER"?(s(),i(A,{key:0,class:"van-cell__right-icon-wrap",name:"arrow"})):b("",!0)]),_:1}),o(n,{center:"",title:"姓名",value:e(t).userInfo.nickName},null,8,["value"]),e(t).userInfo.roleCode==="ROLE_USER"?(s(),i(n,{key:0,center:"",title:"性别",value:e(t).userInfo.gender==="M"?"男":e(t).userInfo.gender==="F"?"女":"","is-link":e(t).userInfo.roleCode==="ROLE_USER",onClick:a[0]||(a[0]=F=>p.value=!0)},null,8,["value","is-link"])):(s(),i(n,{key:1,center:"",title:"性别",value:e(t).userInfo.gender==="M"?"男":e(t).userInfo.gender==="F"?"女":"","is-link":e(t).userInfo.roleCode==="ROLE_USER"},null,8,["value","is-link"])),e(t).userInfo.roleCode==="ROLE_USER"?(s(),i(n,{key:2,center:"",title:"生日",value:(d=(r=e(t))==null?void 0:r.userInfo)!=null&&d.birthday?(v=(c=e(t))==null?void 0:c.userInfo)==null?void 0:v.birthday.split(" ")[0]:"","is-link":e(t).userInfo.roleCode=="ROLE_USER",onClick:a[1]||(a[1]=F=>m.value=!0)},null,8,["value","is-link"])):(s(),i(n,{key:3,center:"",title:"生日",value:(g=(_=e(t))==null?void 0:_.userInfo)!=null&&g.birthday?(R=(E=e(t))==null?void 0:E.userInfo)==null?void 0:R.birthday.split(" ")[0]:"","is-link":e(t).userInfo.roleCode=="ROLE_USER"},null,8,["value","is-link"]))]}),_:1}),o(B,{round:!1,show:p.value,actions:U,onClose:a[2]||(a[2]=r=>p.value=!1),onSelect:$},null,8,["show"]),o(j,{show:m.value,position:"bottom",onClose:a[5]||(a[5]=r=>m.value=!1)},{default:u(()=>[o(Y,{"columns-type":D,onCancel:a[3]||(a[3]=r=>m.value=!1),onConfirm:N,"min-date":e(h),"max-date":e(w),modelValue:f.value,"onUpdate:modelValue":a[4]||(a[4]=r=>f.value=r),formatter:L},null,8,["min-date","max-date","modelValue"])]),_:1},8,["show"]),o(I,{title:" "},{default:u(()=>[e(t).userInfo.mobile?(s(),i(n,{key:0,center:"",title:"手机号码",value:e(t).userInfo.mobile},null,8,["value"])):b("",!0)]),_:1}),o(I,{title:" "},{default:u(()=>{var r,d,c,v,_;return[o(n,{center:"",title:"学校",value:(r=e(t).userInfo.team)==null?void 0:r.schoolName},null,8,["value"]),o(n,{center:"",title:"年级",value:(d=e(t).userInfo.team)!=null&&d.gradeName?e(x)(e(t).userInfo.team.level)+" "+e(t).userInfo.team.gradeName:(c=e(t).userInfo.team)!=null&&c.grade?e(x)(e(t).userInfo.team.level)+" "+e(t).userInfo.team.grade+"年级":""},null,8,["value"]),o(n,{center:"",title:"班级",value:(v=e(t).userInfo.team)!=null&&v.numberName?e(t).userInfo.team.numberName+"":(_=e(t).userInfo.team)!=null&&_.number?e(t).userInfo.team.number+"班":""},null,8,["value"]),o(n,{center:"",title:"学籍号",value:e(t).userInfo.number},null,8,["value"])]}),_:1})])])}}});const Re=K(le,[["__scopeId","data-v-7502f885"]]);export{Re as default};
